2025-08-20 02:51:59 [error]: favorites routes is undefined - check export
2025-08-20 02:56:13 [error]: TSError: ‚®Ø Unable to compile TypeScript:
[96msrc/controllers/listingController.ts[0m:[93m386[0m:[93m13[0m - [91merror[0m[90m TS2353: [0mObject literal may only specify known properties, and 'slug' does not exist in type 'categoriesSelect<DefaultArgs>'.

[7m386[0m             slug: true
[7m   [0m [91m            ~~~~[0m
[96msrc/controllers/listingController.ts[0m:[93m474[0m:[93m21[0m - [91merror[0m[90m TS2339: [0mProperty 'categories' does not exist on type '{ category_id: string; vehicle_type_id: string; brand_id: string | null; model_id: string | null; city_id: string | null; district_id: string | null; description: string | null; title: string; ... 31 more ...; images: JsonValue; }'.

[7m474[0m         id: listing.categories?.id,
[7m   [0m [91m                    ~~~~~~~~~~[0m
[96msrc/controllers/listingController.ts[0m:[93m475[0m:[93m23[0m - [91merror[0m[90m TS2339: [0mProperty 'categories' does not exist on type '{ category_id: string; vehicle_type_id: string; brand_id: string | null; model_id: string | null; city_id: string | null; district_id: string | null; description: string | null; title: string; ... 31 more ...; images: JsonValue; }'.

[7m475[0m         name: listing.categories?.name || 'Kategori Bulunamadƒ±',
[7m   [0m [91m                      ~~~~~~~~~~[0m
[96msrc/controllers/listingController.ts[0m:[93m476[0m:[93m23[0m - [91merror[0m[90m TS2339: [0mProperty 'categories' does not exist on type '{ category_id: string; vehicle_type_id: string; brand_id: string | null; model_id: string | null; city_id: string | null; district_id: string | null; description: string | null; title: string; ... 31 more ...; images: JsonValue; }'.

[7m476[0m         slug: listing.categories?.slug || 'kategori',
[7m   [0m [91m                      ~~~~~~~~~~[0m
[96msrc/controllers/listingController.ts[0m:[93m481[0m:[93m21[0m - [91merror[0m[90m TS2339: [0mProperty 'users' does not exist on type '{ category_id: string; vehicle_type_id: string; brand_id: string | null; model_id: string | null; city_id: string | null; district_id: string | null; description: string | null; title: string; ... 31 more ...; images: JsonValue; }'.

[7m481[0m         id: listing.users?.id || '',
[7m   [0m [91m                    ~~~~~[0m
[96msrc/controllers/listingController.ts[0m:[93m482[0m:[93m24[0m - [91merror[0m[90m TS2339: [0mProperty 'users' does not exist on type '{ category_id: string; vehicle_type_id: string; brand_id: string | null; model_id: string | null; city_id: string | null; district_id: string | null; description: string | null; title: string; ... 31 more ...; images: JsonValue; }'.

[7m482[0m         email: listing.users?.email || '',
[7m   [0m [91m                       ~~~~~[0m
[96msrc/controllers/listingController.ts[0m:[93m483[0m:[93m27[0m - [91merror[0m[90m TS2339: [0mProperty 'users' does not exist on type '{ category_id: string; vehicle_type_id: string; brand_id: string | null; model_id: string | null; city_id: string | null; district_id: string | null; description: string | null; title: string; ... 31 more ...; images: JsonValue; }'.

[7m483[0m         username: listing.users?.username || 'kullanici',
[7m   [0m [91m                          ~~~~~[0m
[96msrc/controllers/listingController.ts[0m:[93m484[0m:[93m29[0m - [91merror[0m[90m TS2339: [0mProperty 'users' does not exist on type '{ category_id: string; vehicle_type_id: string; brand_id: string | null; model_id: string | null; city_id: string | null; district_id: string | null; description: string | null; title: string; ... 31 more ...; images: JsonValue; }'.

[7m484[0m         first_name: listing.users?.first_name || 'Ad',
[7m   [0m [91m                            ~~~~~[0m
[96msrc/controllers/listingController.ts[0m:[93m485[0m:[93m28[0m - [91merror[0m[90m TS2339: [0mProperty 'users' does not exist on type '{ category_id: string; vehicle_type_id: string; brand_id: string | null; model_id: string | null; city_id: string | null; district_id: string | null; description: string | null; title: string; ... 31 more ...; images: JsonValue; }'.

[7m485[0m         last_name: listing.users?.last_name || 'Soyad',
[7m   [0m [91m                           ~~~~~[0m
[96msrc/controllers/listingController.ts[0m:[93m486[0m:[93m24[0m - [91merror[0m[90m TS2339: [0mProperty 'users' does not exist on type '{ category_id: string; vehicle_type_id: string; brand_id: string | null; model_id: string | null; city_id: string | null; district_id: string | null; description: string | null; title: string; ... 31 more ...; images: JsonValue; }'.

[7m486[0m         phone: listing.users?.phone || '',
[7m   [0m [91m                       ~~~~~[0m
[96msrc/controllers/listingController.ts[0m:[93m487[0m:[93m23[0m - [91merror[0m[90m TS2339: [0mProperty 'users' does not exist on type '{ category_id: string; vehicle_type_id: string; brand_id: string | null; model_id: string | null; city_id: string | null; district_id: string | null; description: string | null; title: string; ... 31 more ...; images: JsonValue; }'.

[7m487[0m         role: listing.users?.role || 'USER',
[7m   [0m [91m                      ~~~~~[0m
[96msrc/controllers/listingController.ts[0m:[93m488[0m:[93m28[0m - [91merror[0m[90m TS2339: [0mProperty 'users' does not exist on type '{ category_id: string; vehicle_type_id: string; brand_id: string | null; model_id: string | null; city_id: string | null; district_id: string | null; description: string | null; title: string; ... 31 more ...; images: JsonValue; }'.

[7m488[0m         is_active: listing.users?.is_active || true,
[7m   [0m [91m                           ~~~~~[0m
[96msrc/controllers/listingController.ts[0m:[93m489[0m:[93m36[0m - [91merror[0m[90m TS2339: [0mProperty 'users' does not exist on type '{ category_id: string; vehicle_type_id: string; brand_id: string | null; model_id: string | null; city_id: string | null; district_id: string | null; description: string | null; title: string; ... 31 more ...; images: JsonValue; }'.

[7m489[0m         is_email_verified: listing.users?.is_email_verified || false,
[7m   [0m [91m                                   ~~~~~[0m
[96msrc/controllers/listingController.ts[0m:[93m490[0m:[93m29[0m - [91merror[0m[90m TS2339: [0mProperty 'users' does not exist on type '{ category_id: string; vehicle_type_id: string; brand_id: string | null; model_id: string | null; city_id: string | null; district_id: string | null; description: string | null; title: string; ... 31 more ...; images: JsonValue; }'.

[7m490[0m         created_at: listing.users?.created_at || new Date(),
[7m   [0m [91m                            ~~~~~[0m
[96msrc/controllers/listingController.ts[0m:[93m491[0m:[93m29[0m - [91merror[0m[90m TS2339: [0mProperty 'users' does not exist on type '{ category_id: string; vehicle_type_id: string; brand_id: string | null; model_id: string | null; city_id: string | null; district_id: string | null; description: string | null; title: string; ... 31 more ...; images: JsonValue; }'.

[7m491[0m         updated_at: listing.users?.updated_at || new Date()
[7m   [0m [91m                            ~~~~~[0m
[96msrc/controllers/listingController.ts[0m:[93m493[0m:[93m23[0m - [91merror[0m[90m TS2339: [0mProperty 'listing_images' does not exist on type '{ category_id: string; vehicle_type_id: string; brand_id: string | null; model_id: string | null; city_id: string | null; district_id: string | null; description: string | null; title: string; ... 31 more ...; images: JsonValue; }'.

[7m493[0m       images: listing.listing_images?.map(img => img.url) || listing.images || [],
[7m   [0m [91m                      ~~~~~~~~~~~~~~[0m
[96msrc/controllers/listingController.ts[0m:[93m493[0m:[93m43[0m - [91merror[0m[90m TS7006: [0mParameter 'img' implicitly has an 'any' type.

[7m493[0m       images: listing.listing_images?.map(img => img.url) || listing.images || [],
[7m   [0m [91m                                          ~~~[0m
[96msrc/controllers/listingController.ts[0m:[93m494[0m:[93m28[0m - [91merror[0m[90m TS2339: [0mProperty 'districts' does not exist on type '{ category_id: string; vehicle_type_id: string; brand_id: string | null; model_id: string | null; city_id: string | null; district_id: string | null; description: string | null; title: string; ... 31 more ...; images: JsonValue; }'.

[7m494[0m       location: `${listing.districts?.name || ''}, ${listing.cities?.name || ''}`.replace(/^, |, $/, '') || 'Konum belirtilmemi≈ü',
[7m   [0m [91m                           ~~~~~~~~~[0m
[96msrc/controllers/listingController.ts[0m:[93m494[0m:[93m62[0m - [91merror[0m[90m TS2339: [0mProperty 'cities' does not exist on type '{ category_id: string; vehicle_type_id: string; brand_id: string | null; model_id: string | null; city_id: string | null; district_id: string | null; description: string | null; title: string; ... 31 more ...; images: JsonValue; }'.

[7m494[0m       location: `${listing.districts?.name || ''}, ${listing.cities?.name || ''}`.replace(/^, |, $/, '') || 'Konum belirtilmemi≈ü',
[7m   [0m [91m                                                             ~~~~~~[0m
[96msrc/controllers/listingController.ts[0m:[93m505[0m:[93m22[0m - [91merror[0m[90m TS2339: [0mProperty 'brands' does not exist on type '{ category_id: string; vehicle_type_id: string; brand_id: string | null; model_id: string | null; city_id: string | null; district_id: string | null; description: string | null; title: string; ... 31 more ...; images: JsonValue; }'.

[7m505[0m       brand: listing.brands?.name,
[7m   [0m [91m                     ~~~~~~[0m
[96msrc/controllers/listingController.ts[0m:[93m506[0m:[93m22[0m - [91merror[0m[90m TS2339: [0mProperty 'models' does not exist on type '{ category_id: string; vehicle_type_id: string; brand_id: string | null; model_id: string | null; city_id: string | null; district_id: string | null; description: string | null; title: string; ... 31 more ...; images: JsonValue; }'.

[7m506[0m       model: listing.models?.name,
[7m   [0m [91m                     ~~~~~~[0m
[96msrc/controllers/listingController.ts[0m:[93m507[0m:[93m24[0m - [91merror[0m[90m TS2339: [0mProperty 'variants' does not exist on type '{ category_id: string; vehicle_type_id: string; brand_id: string | null; model_id: string | null; city_id: string | null; district_id: string | null; description: string | null; title: string; ... 31 more ...; images: JsonValue; }'.

[7m507[0m       variant: listing.variants?.name
[7m   [0m [91m                       ~~~~~~~~[0m

    at createTSError (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:859:12)
    at reportTSError (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:863:19)
    at getOutput (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1077:36)
    at Object.compile (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1433:41)
    at Module.m._compile (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1617:30)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1427:32)
    at Module._load (node:internal/modules/cjs/loader:1250:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
2025-08-20 02:56:13 [error]: favorites routes is undefined - check export
2025-08-20 02:56:37 [error]: favorites routes is undefined - check export
2025-08-20 02:57:43 [error]: favorites routes is undefined - check export
2025-08-20 02:59:35 [error]: favorites routes is undefined - check export
2025-08-20 03:00:35 [error]: TypeError: Router.use() requires a middleware function but got a Object
    at router.use (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:469:13)
    at app.<anonymous> (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\application.js:227:21)
    at Array.forEach (<anonymous>)
    at app.use (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\application.js:224:7)
    at Object.<anonymous> (C:\Users\salih\Desktop\TruckBus\Backend\src\simpleIndex.ts:278:9)
    at Module._compile (node:internal/modules/cjs/loader:1692:14)
    at Module.m._compile (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1618:23)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1427:32)
2025-08-20 03:00:35 [error]: TypeError: Router.use() requires a middleware function but got a Object
    at router.use (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:469:13)
    at app.<anonymous> (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\application.js:227:21)
    at Array.forEach (<anonymous>)
    at app.use (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\application.js:224:7)
    at Object.<anonymous> (C:\Users\salih\Desktop\TruckBus\Backend\src\simpleIndex.ts:278:9)
    at Module._compile (node:internal/modules/cjs/loader:1692:14)
    at Module.m._compile (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1618:23)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1427:32)
2025-08-20 03:03:04 [error]: TypeError: Router.use() requires a middleware function but got a Object
    at router.use (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:469:13)
    at app.<anonymous> (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\application.js:227:21)
    at Array.forEach (<anonymous>)
    at app.use (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\application.js:224:7)
    at Object.<anonymous> (C:\Users\salih\Desktop\TruckBus\Backend\src\simpleIndex.ts:278:9)
    at Module._compile (node:internal/modules/cjs/loader:1692:14)
    at Module.m._compile (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1618:23)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1427:32)
2025-08-20 03:04:11 [error]: TypeError: Router.use() requires a middleware function but got a Object
    at router.use (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:469:13)
    at app.<anonymous> (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\application.js:227:21)
    at Array.forEach (<anonymous>)
    at app.use (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\application.js:224:7)
    at Object.<anonymous> (C:\Users\salih\Desktop\TruckBus\Backend\src\simpleIndex.ts:278:9)
    at Module._compile (node:internal/modules/cjs/loader:1692:14)
    at Module.m._compile (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1618:23)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1427:32)
2025-08-20 03:04:20 [error]: TypeError: Router.use() requires a middleware function but got a Object
    at router.use (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:469:13)
    at app.<anonymous> (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\application.js:227:21)
    at Array.forEach (<anonymous>)
    at app.use (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\application.js:224:7)
    at Object.<anonymous> (C:\Users\salih\Desktop\TruckBus\Backend\src\simpleIndex.ts:278:9)
    at Module._compile (node:internal/modules/cjs/loader:1692:14)
    at Module.m._compile (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1618:23)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1427:32)
2025-08-20 03:04:27 [error]: TypeError: Router.use() requires a middleware function but got a Object
    at router.use (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:469:13)
    at app.<anonymous> (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\application.js:227:21)
    at Array.forEach (<anonymous>)
    at app.use (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\application.js:224:7)
    at Object.<anonymous> (C:\Users\salih\Desktop\TruckBus\Backend\src\simpleIndex.ts:278:9)
    at Module._compile (node:internal/modules/cjs/loader:1692:14)
    at Module.m._compile (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1618:23)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1427:32)
2025-08-20 03:04:36 [error]: TypeError: Router.use() requires a middleware function but got a Object
    at router.use (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:469:13)
    at app.<anonymous> (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\application.js:227:21)
    at Array.forEach (<anonymous>)
    at app.use (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\application.js:224:7)
    at Object.<anonymous> (C:\Users\salih\Desktop\TruckBus\Backend\src\simpleIndex.ts:278:9)
    at Module._compile (node:internal/modules/cjs/loader:1692:14)
    at Module.m._compile (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1618:23)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1427:32)
2025-08-20 03:04:45 [error]: TypeError: Router.use() requires a middleware function but got a Object
    at router.use (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:469:13)
    at app.<anonymous> (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\application.js:227:21)
    at Array.forEach (<anonymous>)
    at app.use (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\application.js:224:7)
    at Object.<anonymous> (C:\Users\salih\Desktop\TruckBus\Backend\src\simpleIndex.ts:278:9)
    at Module._compile (node:internal/modules/cjs/loader:1692:14)
    at Module.m._compile (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1618:23)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1427:32)
2025-08-20 03:05:04 [error]: TypeError: Router.use() requires a middleware function but got a Object
    at router.use (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:469:13)
    at app.<anonymous> (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\application.js:227:21)
    at Array.forEach (<anonymous>)
    at app.use (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\application.js:224:7)
    at Object.<anonymous> (C:\Users\salih\Desktop\TruckBus\Backend\src\simpleIndex.ts:279:9)
    at Module._compile (node:internal/modules/cjs/loader:1692:14)
    at Module.m._compile (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1618:23)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1427:32)
2025-08-20 03:05:15 [error]: TypeError: Router.use() requires a middleware function but got a Object
    at router.use (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:469:13)
    at app.<anonymous> (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\application.js:227:21)
    at Array.forEach (<anonymous>)
    at app.use (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\application.js:224:7)
    at Object.<anonymous> (C:\Users\salih\Desktop\TruckBus\Backend\src\simpleIndex.ts:279:9)
    at Module._compile (node:internal/modules/cjs/loader:1692:14)
    at Module.m._compile (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1618:23)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1427:32)
2025-08-20 03:06:41 [error]: TypeError: Router.use() requires a middleware function but got a Object
    at router.use (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:469:13)
    at app.<anonymous> (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\application.js:227:21)
    at Array.forEach (<anonymous>)
    at app.use (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\application.js:224:7)
    at Object.<anonymous> (C:\Users\salih\Desktop\TruckBus\Backend\src\simpleIndex.ts:279:9)
    at Module._compile (node:internal/modules/cjs/loader:1692:14)
    at Module.m._compile (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1618:23)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1427:32)
2025-08-20 18:39:55 [error]: Database error: 
Invalid `prisma.listings.create()` invocation in
C:\Users\salih\Desktop\TruckBus\Backend\src\controllers\listingController.ts:90:43

  87 }
  88 
  89 // Ilan olu≈ütur
‚Üí 90 const listing = await prisma.listings.create(
Foreign key constraint violated on the constraint: `listings_brand_id_fkey`
2025-08-20 18:39:55 [error]: PrismaClientKnownRequestError: 
Invalid `prisma.listings.create()` invocation in
C:\Users\salih\Desktop\TruckBus\Backend\src\controllers\listingController.ts:90:43

  87 }
  88 
  89 // Ilan olu≈ütur
‚Üí 90 const listing = await prisma.listings.create(
Foreign key constraint violated on the constraint: `listings_brand_id_fkey`
    at ei.handleRequestError (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\@prisma\client\src\runtime\RequestHandler.ts:228:13)
    at ei.handleAndLogRequestError (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\@prisma\client\src\runtime\RequestHandler.ts:174:12)
    at ei.request (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\@prisma\client\src\runtime\RequestHandler.ts:143:12)
    at async a (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\@prisma\client\src\runtime\getPrismaClient.ts:833:24)
    at async createListing (C:\Users\salih\Desktop\TruckBus\Backend\src\controllers\listingController.ts:90:21)
2025-08-20 21:25:15 [error]: TSError: ‚®Ø Unable to compile TypeScript:
[96msrc/controllers/adminController.ts[0m:[93m5[0m:[93m14[0m - [91merror[0m[90m TS2451: [0mCannot redeclare block-scoped variable 'getDashboardStats'.

[7m5[0m export const getDashboardStats = async (req: Request, res: Response): Promise<void> => {
[7m [0m [91m             ~~~~~~~~~~~~~~~~~[0m
[96msrc/controllers/adminController.ts[0m:[93m33[0m:[93m18[0m - [91merror[0m[90m TS2820: [0mType '"pending"' is not assignable to type 'EnumListingStatusFilter<"listings"> | ListingStatus | undefined'. Did you mean '"PENDING"'?

[7m33[0m         where: { status: 'pending' }
[7m  [0m [91m                 ~~~~~~[0m
[96msrc/controllers/adminController.ts[0m:[93m38[0m:[93m18[0m - [91merror[0m[90m TS2820: [0mType '"active"' is not assignable to type 'EnumListingStatusFilter<"listings"> | ListingStatus | undefined'. Did you mean '"ACTIVE"'?

[7m38[0m         where: { status: 'active' }
[7m  [0m [91m                 ~~~~~~[0m
[96msrc/controllers/adminController.ts[0m:[93m49[0m:[93m18[0m - [91merror[0m[90m TS2353: [0mObject literal may only specify known properties, and 'is_read' does not exist in type 'messagesWhereInput'.

[7m49[0m         where: { is_read: false }
[7m  [0m [91m                 ~~~~~~~[0m
[96msrc/controllers/adminController.ts[0m:[93m147[0m:[93m15[0m - [91merror[0m[90m TS2322: [0mType '(string | null)[]' is not assignable to type 'string[] | FieldRef<"cities", "String[]"> | undefined'.
  Type '(string | null)[]' is not assignable to type 'string[]'.
    Type 'string | null' is not assignable to type 'string'.
      Type 'null' is not assignable to type 'string'.

[7m147[0m         id: { in: cityIds }
[7m   [0m [91m              ~~[0m
[96msrc/controllers/adminController.ts[0m:[93m363[0m:[93m11[0m - [91merror[0m[90m TS2353: [0mObject literal may only specify known properties, and 'sender' does not exist in type 'messagesInclude<DefaultArgs>'.

[7m363[0m           sender: {
[7m   [0m [91m          ~~~~~~[0m
[96msrc/controllers/adminController.ts[0m:[93m396[0m:[93m30[0m - [91merror[0m[90m TS2367: [0mThis comparison appears to be unintentional because the types 'ListingStatus' and '"pending"' have no overlap.

[7m396[0m         description: `Yeni ${listing.status === 'pending' ? 'onay bekleyen' : ''} ilan`,
[7m   [0m [91m                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/controllers/adminController.ts[0m:[93m407[0m:[93m30[0m - [91merror[0m[90m TS2339: [0mProperty 'content' does not exist on type '{ status: MessageStatus; id: string; created_at: Date; conversation_id: string; sender_id: string; body: string; attachment_url: string | null; }'.

[7m407[0m         description: message.content?.substring(0, 50) + '...' || 'Mesaj i√ßeriƒüi yok',
[7m   [0m [91m                             ~~~~~~~[0m
[96msrc/controllers/adminController.ts[0m:[93m408[0m:[93m23[0m - [91merror[0m[90m TS2339: [0mProperty 'sender' does not exist on type '{ status: MessageStatus; id: string; created_at: Date; conversation_id: string; sender_id: string; body: string; attachment_url: string | null; }'.

[7m408[0m         user: message.sender ? `${message.sender.first_name} ${message.sender.last_name}` : 'Bilinmeyen',
[7m   [0m [91m                      ~~~~~~[0m
[96msrc/controllers/adminController.ts[0m:[93m408[0m:[93m43[0m - [91merror[0m[90m TS2339: [0mProperty 'sender' does not exist on type '{ status: MessageStatus; id: string; created_at: Date; conversation_id: string; sender_id: string; body: string; attachment_url: string | null; }'.

[7m408[0m         user: message.sender ? `${message.sender.first_name} ${message.sender.last_name}` : 'Bilinmeyen',
[7m   [0m [91m                                          ~~~~~~[0m
[96msrc/controllers/adminController.ts[0m:[93m408[0m:[93m72[0m - [91merror[0m[90m TS2339: [0mProperty 'sender' does not exist on type '{ status: MessageStatus; id: string; created_at: Date; conversation_id: string; sender_id: string; body: string; attachment_url: string | null; }'.

[7m408[0m         user: message.sender ? `${message.sender.first_name} ${message.sender.last_name}` : 'Bilinmeyen',
[7m   [0m [91m                                                                       ~~~~~~[0m
[96msrc/controllers/adminController.ts[0m:[93m409[0m:[93m27[0m - [91merror[0m[90m TS2339: [0mProperty 'receiver' does not exist on type '{ status: MessageStatus; id: string; created_at: Date; conversation_id: string; sender_id: string; body: string; attachment_url: string | null; }'.

[7m409[0m         receiver: message.receiver ? `${message.receiver.first_name} ${message.receiver.last_name}` : 'Bilinmeyen',
[7m   [0m [91m                          ~~~~~~~~[0m
[96msrc/controllers/adminController.ts[0m:[93m409[0m:[93m49[0m - [91merror[0m[90m TS2339: [0mProperty 'receiver' does not exist on type '{ status: MessageStatus; id: string; created_at: Date; conversation_id: string; sender_id: string; body: string; attachment_url: string | null; }'.

[7m409[0m         receiver: message.receiver ? `${message.receiver.first_name} ${message.receiver.last_name}` : 'Bilinmeyen',
[7m   [0m [91m                                                ~~~~~~~~[0m
[96msrc/controllers/adminController.ts[0m:[93m409[0m:[93m80[0m - [91merror[0m[90m TS2339: [0mProperty 'receiver' does not exist on type '{ status: MessageStatus; id: string; created_at: Date; conversation_id: string; sender_id: string; body: string; attachment_url: string | null; }'.

[7m409[0m         receiver: message.receiver ? `${message.receiver.first_name} ${message.receiver.last_name}` : 'Bilinmeyen',
[7m   [0m [91m                                                                               ~~~~~~~~[0m
[96msrc/controllers/adminController.ts[0m:[93m411[0m:[93m25[0m - [91merror[0m[90m TS2339: [0mProperty 'is_read' does not exist on type '{ status: MessageStatus; id: string; created_at: Date; conversation_id: string; sender_id: string; body: string; attachment_url: string | null; }'.

[7m411[0m         status: message.is_read ? 'read' : 'unread'
[7m   [0m [91m                        ~~~~~~~[0m
[96msrc/controllers/adminController.ts[0m:[93m747[0m:[93m14[0m - [91merror[0m[90m TS2451: [0mCannot redeclare block-scoped variable 'getDashboardStats'.

[7m747[0m export const getDashboardStats = async (req: Request, res: Response) => {
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~[0m

    at createTSError (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:859:12)
    at reportTSError (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:863:19)
    at getOutput (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1077:36)
    at Object.compile (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1433:41)
    at Module.m._compile (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1617:30)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1427:32)
    at Module._load (node:internal/modules/cjs/loader:1250:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
2025-08-20 21:26:50 [error]: TSError: ‚®Ø Unable to compile TypeScript:
[96msrc/controllers/adminController.ts[0m:[93m5[0m:[93m14[0m - [91merror[0m[90m TS2451: [0mCannot redeclare block-scoped variable 'getDashboardStats'.

[7m5[0m export const getDashboardStats = async (req: Request, res: Response): Promise<void> => {
[7m [0m [91m             ~~~~~~~~~~~~~~~~~[0m
[96msrc/controllers/adminController.ts[0m:[93m736[0m:[93m14[0m - [91merror[0m[90m TS2451: [0mCannot redeclare block-scoped variable 'getDashboardStats'.

[7m736[0m export const getDashboardStats = async (req: Request, res: Response) => {
[7m   [0m [91m             ~~~~~~~~~~~~~~~~~[0m

    at createTSError (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:859:12)
    at reportTSError (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:863:19)
    at getOutput (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1077:36)
    at Object.compile (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1433:41)
    at Module.m._compile (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1617:30)
    at node:internal/modules/cjs/loader:1824:10
    at Object.require.extensions.<computed> [as .ts] (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\ts-node\src\index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1427:32)
    at Module._load (node:internal/modules/cjs/loader:1250:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
2025-08-20 21:33:00 [error]: TypeError: Do not know how to serialize a BigInt
    at JSON.stringify (<anonymous>)
    at stringify (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\response.js:1160:12)
    at ServerResponse.json (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\response.js:271:14)
    at getDashboardStats (C:\Users\salih\Desktop\TruckBus\Backend\src\controllers\adminController.ts:293:9)
2025-08-20 21:33:05 [error]: TypeError: Do not know how to serialize a BigInt
    at JSON.stringify (<anonymous>)
    at stringify (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\response.js:1160:12)
    at ServerResponse.json (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\response.js:271:14)
    at getDashboardStats (C:\Users\salih\Desktop\TruckBus\Backend\src\controllers\adminController.ts:293:9)
2025-08-20 21:33:07 [error]: TypeError: Do not know how to serialize a BigInt
    at JSON.stringify (<anonymous>)
    at stringify (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\response.js:1160:12)
    at ServerResponse.json (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\response.js:271:14)
    at getDashboardStats (C:\Users\salih\Desktop\TruckBus\Backend\src\controllers\adminController.ts:293:9)
2025-08-20 21:33:08 [error]: TypeError: Do not know how to serialize a BigInt
    at JSON.stringify (<anonymous>)
    at stringify (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\response.js:1160:12)
    at ServerResponse.json (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\response.js:271:14)
    at getDashboardStats (C:\Users\salih\Desktop\TruckBus\Backend\src\controllers\adminController.ts:293:9)
2025-08-20 21:33:08 [error]: TypeError: Do not know how to serialize a BigInt
    at JSON.stringify (<anonymous>)
    at stringify (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\response.js:1160:12)
    at ServerResponse.json (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\response.js:271:14)
    at getDashboardStats (C:\Users\salih\Desktop\TruckBus\Backend\src\controllers\adminController.ts:293:9)
2025-08-21 14:26:05 [error]: TokenExpiredError: jwt expired
    at C:\Users\salih\Desktop\TruckBus\Backend\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\jsonwebtoken\verify.js:97:14)
    at Object.module.exports [as verify] (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\jsonwebtoken\verify.js:101:10)
    at authMiddleware (C:\Users\salih\Desktop\TruckBus\Backend\src\middleware\auth.ts:37:27)
    at Layer.handle [as handle_request] (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:328:13)
    at C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:286:9
    at router.process_params (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:175:3)
2025-08-21 14:26:19 [error]: TokenExpiredError: jwt expired
    at C:\Users\salih\Desktop\TruckBus\Backend\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\jsonwebtoken\verify.js:97:14)
    at Object.module.exports [as verify] (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\jsonwebtoken\verify.js:101:10)
    at authMiddleware (C:\Users\salih\Desktop\TruckBus\Backend\src\middleware\auth.ts:37:27)
    at Layer.handle [as handle_request] (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:328:13)
    at C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:286:9
    at router.process_params (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:175:3)
2025-08-21 14:26:35 [error]: TokenExpiredError: jwt expired
    at C:\Users\salih\Desktop\TruckBus\Backend\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\jsonwebtoken\verify.js:97:14)
    at Object.module.exports [as verify] (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\jsonwebtoken\verify.js:101:10)
    at authMiddleware (C:\Users\salih\Desktop\TruckBus\Backend\src\middleware\auth.ts:37:27)
    at Layer.handle [as handle_request] (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:328:13)
    at C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:286:9
    at router.process_params (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:175:3)
2025-08-21 14:26:50 [error]: TokenExpiredError: jwt expired
    at C:\Users\salih\Desktop\TruckBus\Backend\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\jsonwebtoken\verify.js:97:14)
    at Object.module.exports [as verify] (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\jsonwebtoken\verify.js:101:10)
    at authMiddleware (C:\Users\salih\Desktop\TruckBus\Backend\src\middleware\auth.ts:37:27)
    at Layer.handle [as handle_request] (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:328:13)
    at C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:286:9
    at router.process_params (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:175:3)
2025-08-21 14:27:04 [error]: TokenExpiredError: jwt expired
    at C:\Users\salih\Desktop\TruckBus\Backend\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\jsonwebtoken\verify.js:97:14)
    at Object.module.exports [as verify] (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\jsonwebtoken\verify.js:101:10)
    at authMiddleware (C:\Users\salih\Desktop\TruckBus\Backend\src\middleware\auth.ts:37:27)
    at Layer.handle [as handle_request] (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:328:13)
    at C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:286:9
    at router.process_params (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\router\index.js:175:3)
2025-08-21 21:56:55 [error]: TypeError: Do not know how to serialize a BigInt
    at JSON.stringify (<anonymous>)
    at stringify (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\response.js:1160:12)
    at ServerResponse.json (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\response.js:271:14)
    at getDashboardStats (C:\Users\salih\Desktop\TruckBus\Backend\src\controllers\adminController.ts:293:9)
2025-08-21 21:57:00 [error]: TypeError: Do not know how to serialize a BigInt
    at JSON.stringify (<anonymous>)
    at stringify (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\response.js:1160:12)
    at ServerResponse.json (C:\Users\salih\Desktop\TruckBus\Backend\node_modules\express\lib\response.js:271:14)
    at getDashboardStats (C:\Users\salih\Desktop\TruckBus\Backend\src\controllers\adminController.ts:293:9)
